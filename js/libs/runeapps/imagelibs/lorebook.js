///<reference path="/runeappslib.js"/>
///<reference path="../lib/alt1liblegacy.ts"/>
"use strict";


LoreBookReader.pixelfont = JSON.parse(
	'{"chars":[{"width":7,"chr":"a","bonus":0.038,"secondary":false,"pixels":[1,6,255,1,8,255,1,9,255,1,10,255,2,5,255,2,8,255,2,10,255,3,5,255,3,7,255,3,10,255,4,5,255,4,7,255,4,10,255,5,6,255,5,7,255,5,8,255,5,9,255,5,10,255,6,10,255]},{"width":7,"chr":"b","bonus":0.038,"secondary":false,"pixels":[0,3,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,2,6,255,2,10,255,3,5,255,3,10,255,4,5,255,4,9,255,5,6,255,5,7,255,5,8,255]},{"width":7,"chr":"c","bonus":0.026,"secondary":false,"pixels":[1,6,255,1,7,255,1,8,255,1,9,255,2,5,255,2,10,255,3,5,255,3,10,255,4,5,255,4,10,255,5,5,255,5,6,255,5,10,255]},{"width":8,"chr":"d","bonus":0.042,"secondary":false,"pixels":[1,6,255,1,7,255,1,8,255,1,9,255,2,5,255,2,10,255,3,5,255,3,10,255,4,3,255,4,5,255,4,10,255,5,2,255,5,3,255,5,4,255,5,5,255,5,6,255,5,7,255,5,8,255,5,9,255,5,10,255,6,10,255]},{"width":7,"chr":"e","bonus":0.032,"secondary":false,"pixels":[1,6,255,1,7,255,1,8,255,1,9,255,2,5,255,2,7,255,2,10,255,3,5,255,3,7,255,3,10,255,4,5,255,4,7,255,4,10,255,5,6,255,5,7,255,5,10,255]},{"width":5,"chr":"f","bonus":0.03,"secondary":false,"pixels":[0,5,255,0,10,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,2,2,255,2,5,255,2,10,255,3,2,255,3,5,255]},{"width":8,"chr":"g","bonus":0.044,"secondary":false,"pixels":[1,6,255,1,7,255,1,11,255,1,12,255,1,13,255,2,5,255,2,8,255,2,9,255,2,10,255,3,5,255,3,8,255,3,10,255,4,5,255,4,8,255,4,10,255,5,6,255,5,7,255,5,10,255,5,13,255,6,6,255,6,11,255,6,12,255]},{"width":7,"chr":"h","bonus":0.042,"secondary":false,"pixels":[0,3,255,0,10,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,2,6,255,2,10,255,3,5,255,4,5,255,5,6,255,5,7,255,5,8,255,5,9,255,5,10,255,6,10,255]},{"width":3,"chr":"i","bonus":0.02,"secondary":false,"pixels":[0,6,255,0,10,255,1,3,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,2,10,255]},{"width":4,"chr":"j","bonus":0.022,"secondary":false,"pixels":[1,6,255,2,3,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,2,10,255,2,11,255,2,12,255,2,13,255]},{"width":7,"chr":"k","bonus":0.038,"secondary":false,"pixels":[0,3,255,0,10,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,2,7,255,2,10,255,3,6,255,3,8,255,4,5,255,4,9,255,5,5,255,5,10,255]},{"width":3,"chr":"l","bonus":0.018,"secondary":false,"pixels":[1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255]},{"width":12,"chr":"m","bonus":0.056,"secondary":false,"pixels":[0,6,255,0,10,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,2,6,255,2,10,255,3,5,255,4,5,255,4,10,255,5,6,255,5,7,255,5,8,255,5,9,255,5,10,255,6,6,255,6,10,255,7,5,255,8,5,255,9,6,255,9,7,255,9,8,255,9,9,255,9,10,255,10,10,255]},{"width":9,"chr":"n","bonus":0.036,"secondary":false,"pixels":[1,6,255,1,10,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,2,10,255,3,6,255,3,10,255,4,5,255,5,5,255,6,6,255,6,7,255,6,8,255,6,9,255,6,10,255,7,10,255]},{"width":7,"chr":"o","bonus":0.032,"secondary":false,"pixels":[0,6,255,0,7,255,0,8,255,0,9,255,1,5,255,1,10,255,2,5,255,2,10,255,3,5,255,3,10,255,4,5,255,4,10,255,5,6,255,5,7,255,5,8,255,5,9,255]},{"width":7,"chr":"p","bonus":0.042,"secondary":false,"pixels":[0,6,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,1,13,255,2,6,255,2,10,255,3,5,255,3,10,255,4,5,255,4,10,255,5,5,255,5,9,255,6,6,255,6,7,255,6,8,255]},{"width":7,"chr":"q","bonus":0.04,"secondary":false,"pixels":[0,7,255,0,8,255,0,9,255,1,6,255,1,10,255,2,5,255,2,10,255,3,5,255,3,10,255,4,5,255,4,10,255,5,5,255,5,6,255,5,7,255,5,8,255,5,9,255,5,10,255,5,11,255,5,12,255,5,13,255]},{"width":7,"chr":"r","bonus":0.026,"secondary":false,"pixels":[1,6,255,1,10,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,2,10,255,3,6,255,3,10,255,4,5,255,5,5,255,5,6,255]},{"width":6,"chr":"s","bonus":0.028,"secondary":false,"pixels":[1,6,255,1,7,255,1,9,255,1,10,255,2,5,255,2,7,255,2,10,255,3,5,255,3,8,255,3,10,255,4,5,255,4,6,255,4,8,255,4,9,255]},{"width":5,"chr":"t","bonus":0.024,"secondary":false,"pixels":[0,5,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,5,255,2,10,255,3,5,255,3,10,255]},{"width":9,"chr":"u","bonus":0.034,"secondary":false,"pixels":[1,6,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,3,10,255,4,10,255,5,6,255,5,10,255,6,5,255,6,6,255,6,7,255,6,8,255,6,9,255,6,10,255,7,10,255]},{"width":7,"chr":"v","bonus":0.03,"secondary":false,"pixels":[0,5,255,1,5,255,1,6,255,2,5,255,2,7,255,2,8,255,2,9,255,3,10,255,4,5,255,4,8,255,4,9,255,5,5,255,5,6,255,5,7,255,6,5,255]},{"width":10,"chr":"w","bonus":0.046,"secondary":false,"pixels":[0,5,255,1,5,255,1,6,255,1,7,255,1,8,255,2,5,255,2,9,255,2,10,255,3,7,255,3,8,255,4,5,255,4,6,255,5,6,255,5,7,255,5,8,255,6,9,255,6,10,255,7,5,255,7,7,255,7,8,255,8,5,255,8,6,255,9,5,255]},{"width":8,"chr":"x","bonus":0.024,"secondary":false,"pixels":[1,5,255,1,10,255,2,6,255,2,9,255,3,7,255,3,8,255,4,7,255,4,8,255,5,6,255,5,9,255,6,5,255,6,10,255]},{"width":9,"chr":"y","bonus":0.036,"secondary":false,"pixels":[0,5,255,1,5,255,1,6,255,2,5,255,2,7,255,2,8,255,2,9,255,2,13,255,3,10,255,3,11,255,3,12,255,4,5,255,4,8,255,4,9,255,5,5,255,5,6,255,5,7,255,6,5,255]},{"width":7,"chr":"z","bonus":0.034,"secondary":false,"pixels":[0,10,255,1,5,255,1,6,255,1,9,255,1,10,255,2,5,255,2,8,255,2,10,255,3,5,255,3,7,255,3,10,255,4,5,255,4,6,255,4,10,255,5,5,255,5,9,255,5,10,255]},{"width":9,"chr":"A","bonus":0.048,"secondary":false,"pixels":[0,10,255,1,8,255,1,9,255,1,10,255,2,6,255,2,7,255,2,10,255,3,3,255,3,4,255,3,5,255,3,7,255,4,2,255,4,7,255,5,3,255,5,4,255,5,5,255,5,7,255,6,6,255,6,7,255,6,10,255,7,8,255,7,9,255,7,10,255,8,10,255]},{"width":11,"chr":"B","bonus":0.058,"secondary":false,"pixels":[2,2,255,2,10,255,3,2,255,3,3,255,3,4,255,3,5,255,3,6,255,3,7,255,3,8,255,3,9,255,3,10,255,4,2,255,4,6,255,4,10,255,5,2,255,5,6,255,5,10,255,6,2,255,6,6,255,6,10,255,7,2,255,7,5,255,7,6,255,7,10,255,8,3,255,8,4,255,8,7,255,8,8,255,8,9,255]},{"width":10,"chr":"C","bonus":0.042,"secondary":false,"pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,2,3,255,2,9,255,3,2,255,3,10,255,4,2,255,4,10,255,5,2,255,5,10,255,6,2,255,6,10,255,7,2,255,7,10,255,8,3,255,8,4,255,8,9,255,8,10,255]},{"width":13,"chr":"D","bonus":0.056,"secondary":false,"pixels":[3,2,255,3,10,255,4,2,255,4,3,255,4,4,255,4,5,255,4,6,255,4,7,255,4,8,255,4,9,255,4,10,255,5,2,255,5,10,255,6,2,255,6,10,255,7,2,255,7,10,255,8,2,255,8,10,255,9,2,255,9,9,255,10,3,255,10,8,255,10,9,255,11,4,255,11,5,255,11,6,255,11,7,255]},{"width":12,"chr":"E","bonus":0.058,"secondary":false,"pixels":[3,2,255,3,10,255,4,2,255,4,3,255,4,4,255,4,5,255,4,6,255,4,7,255,4,8,255,4,9,255,4,10,255,5,2,255,5,6,255,5,10,255,6,2,255,6,6,255,6,10,255,7,2,255,7,5,255,7,6,255,7,7,255,7,10,255,8,2,255,8,10,255,9,2,255,9,3,255,9,8,255,9,9,255,9,10,255]},{"width":10,"chr":"F","bonus":0.042,"secondary":false,"pixels":[3,2,255,3,10,255,4,2,255,4,3,255,4,4,255,4,5,255,4,6,255,4,7,255,4,8,255,4,9,255,4,10,255,5,2,255,5,6,255,5,10,255,6,2,255,6,5,255,6,6,255,6,7,255,7,2,255,8,2,255,8,3,255]},{"width":11,"chr":"G","bonus":0.052,"secondary":false,"pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,2,3,255,2,9,255,3,2,255,3,10,255,4,2,255,4,10,255,5,2,255,5,10,255,6,2,255,6,7,255,6,10,255,7,2,255,7,7,255,7,10,255,8,3,255,8,4,255,8,7,255,8,8,255,8,9,255,8,10,255,9,7,255]},{"width":12,"chr":"H","bonus":0.064,"secondary":false,"pixels":[1,2,255,1,10,255,2,2,255,2,3,255,2,4,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,2,10,255,3,2,255,3,6,255,3,10,255,4,6,255,5,6,255,6,6,255,7,6,255,8,2,255,8,6,255,8,10,255,9,2,255,9,3,255,9,4,255,9,5,255,9,6,255,9,7,255,9,8,255,9,9,255,9,10,255,10,2,255,10,10,255]},{"width":7,"chr":"I","bonus":0.026,"secondary":false,"pixels":[2,2,255,2,10,255,3,2,255,3,3,255,3,4,255,3,5,255,3,6,255,3,7,255,3,8,255,3,9,255,3,10,255,4,2,255,4,10,255]},{"width":8,"chr":"J","bonus":0.03,"secondary":false,"pixels":[3,13,255,4,2,255,4,13,255,5,2,255,5,3,255,5,4,255,5,5,255,5,6,255,5,7,255,5,8,255,5,9,255,5,10,255,5,11,255,5,12,255,6,2,255]},{"width":12,"chr":"K","bonus":0.054,"secondary":false,"pixels":[2,2,255,2,10,255,3,2,255,3,3,255,3,4,255,3,5,255,3,6,255,3,7,255,3,8,255,3,9,255,3,10,255,4,2,255,4,6,255,4,10,255,5,6,255,6,5,255,6,7,255,7,2,255,7,4,255,7,8,255,7,10,255,8,2,255,8,3,255,8,9,255,8,10,255,9,2,255,9,10,255]},{"width":9,"chr":"L","bonus":0.038,"secondary":false,"pixels":[1,2,255,1,10,255,2,2,255,2,3,255,2,4,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,2,10,255,3,2,255,3,10,255,4,10,255,5,10,255,6,10,255,7,8,255,7,9,255,7,10,255]},{"width":15,"chr":"M","bonus":0.078,"secondary":false,"pixels":[3,2,255,3,10,255,4,2,255,4,3,255,4,4,255,4,5,255,4,6,255,4,7,255,4,8,255,4,9,255,4,10,255,5,3,255,5,4,255,5,10,255,6,5,255,6,6,255,6,7,255,7,8,255,7,9,255,8,10,255,9,8,255,9,9,255,10,5,255,10,6,255,10,7,255,11,3,255,11,4,255,11,10,255,12,2,255,12,3,255,12,4,255,12,5,255,12,6,255,12,7,255,12,8,255,12,9,255,12,10,255,13,2,255,13,10,255]},{"width":14,"chr":"N","bonus":0.066,"secondary":false,"pixels":[3,2,255,3,10,255,4,2,255,4,3,255,4,4,255,4,5,255,4,6,255,4,7,255,4,8,255,4,9,255,4,10,255,5,2,255,5,3,255,5,10,255,6,4,255,7,5,255,8,6,255,8,7,255,9,8,255,10,2,255,10,9,255,10,10,255,11,2,255,11,3,255,11,4,255,11,5,255,11,6,255,11,7,255,11,8,255,11,9,255,11,10,255,12,2,255,12,10,255]},{"width":12,"chr":"O","bonus":0.048,"secondary":false,"pixels":[2,4,255,2,5,255,2,6,255,2,7,255,2,8,255,3,3,255,3,9,255,4,2,255,4,10,255,5,2,255,5,10,255,6,2,255,6,10,255,7,2,255,7,10,255,8,2,255,8,10,255,9,3,255,9,9,255,10,4,255,10,5,255,10,6,255,10,7,255,10,8,255]},{"width":12,"chr":"P","bonus":0.046,"secondary":false,"pixels":[3,2,255,3,10,255,4,2,255,4,3,255,4,4,255,4,5,255,4,6,255,4,7,255,4,8,255,4,9,255,4,10,255,5,2,255,5,6,255,5,10,255,6,2,255,6,6,255,7,2,255,7,6,255,8,2,255,8,6,255,9,3,255,9,4,255,9,5,255]},{"width":12,"chr":"Q","bonus":0.058,"secondary":false,"pixels":[2,4,255,2,5,255,2,6,255,2,7,255,2,8,255,3,3,255,3,9,255,4,2,255,4,10,255,5,2,255,5,10,255,5,12,255,6,2,255,6,10,255,6,11,255,7,2,255,7,10,255,7,11,255,8,2,255,8,10,255,8,12,255,9,3,255,9,9,255,9,12,255,10,4,255,10,5,255,10,6,255,10,7,255,10,8,255]},{"width":12,"chr":"R","bonus":0.05,"secondary":false,"pixels":[3,2,255,3,10,255,4,2,255,4,3,255,4,4,255,4,5,255,4,6,255,4,7,255,4,8,255,4,9,255,4,10,255,5,2,255,5,10,255,6,2,255,6,6,255,7,2,255,7,6,255,7,7,255,8,2,255,8,5,255,8,8,255,9,3,255,9,4,255,9,9,255,10,10,255]},{"width":9,"chr":"S","bonus":0.036,"secondary":false,"pixels":[2,4,255,2,5,255,2,9,255,3,3,255,3,6,255,3,10,255,4,2,255,4,6,255,4,10,255,5,2,255,5,6,255,5,10,255,6,2,255,6,6,255,6,9,255,7,3,255,7,7,255,7,8,255]},{"width":12,"chr":"T","bonus":0.038,"secondary":false,"pixels":[3,2,255,3,3,255,4,2,255,5,2,255,5,10,255,6,2,255,6,3,255,6,4,255,6,5,255,6,6,255,6,7,255,6,8,255,6,9,255,6,10,255,7,2,255,7,10,255,8,2,255,9,2,255,9,3,255]},{"width":11,"chr":"U","bonus":0.05,"secondary":false,"pixels":[1,2,255,2,2,255,2,3,255,2,4,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,3,2,255,3,10,255,4,10,255,5,10,255,6,10,255,7,2,255,7,10,255,8,2,255,8,3,255,8,4,255,8,5,255,8,6,255,8,7,255,8,8,255,8,9,255,9,2,255]},{"width":11,"chr":"V","bonus":0.042,"secondary":false,"pixels":[1,2,255,2,2,255,2,3,255,3,2,255,3,4,255,3,5,255,3,6,255,4,7,255,4,8,255,4,9,255,5,9,255,5,10,255,6,7,255,6,8,255,7,2,255,7,4,255,7,5,255,7,6,255,8,2,255,8,3,255,9,2,255]},{"width":16,"chr":"W","bonus":0.072,"secondary":false,"pixels":[2,2,255,3,2,255,3,3,255,3,4,255,4,2,255,4,5,255,4,6,255,4,7,255,4,8,255,4,9,255,5,9,255,5,10,255,6,6,255,6,7,255,6,8,255,7,3,255,7,4,255,7,5,255,8,2,255,9,3,255,9,4,255,9,5,255,10,6,255,10,7,255,10,8,255,11,9,255,11,10,255,12,2,255,12,6,255,12,7,255,12,8,255,13,2,255,13,3,255,13,4,255,13,5,255,14,2,255]},{"width":12,"chr":"X","bonus":0.044,"secondary":false,"pixels":[3,2,255,3,10,255,4,2,255,4,3,255,4,9,255,4,10,255,5,4,255,5,5,255,5,8,255,6,6,255,6,7,255,7,6,255,7,7,255,8,4,255,8,5,255,8,8,255,9,2,255,9,3,255,9,9,255,9,10,255,10,2,255,10,10,255]},{"width":11,"chr":"Y","bonus":0.034,"secondary":false,"pixels":[1,2,255,2,2,255,3,3,255,3,4,255,4,5,255,4,10,255,5,6,255,5,7,255,5,8,255,5,9,255,5,10,255,6,5,255,6,10,255,7,3,255,7,4,255,8,2,255,9,2,255]},{"width":10,"chr":"Z","bonus":0.052,"secondary":false,"pixels":[1,10,255,2,2,255,2,3,255,2,4,255,2,9,255,2,10,255,3,2,255,3,8,255,3,10,255,4,2,255,4,6,255,4,7,255,4,10,255,5,2,255,5,5,255,5,10,255,6,2,255,6,4,255,6,10,255,7,2,255,7,3,255,7,10,255,8,2,255,8,8,255,8,9,255,8,10,255]},{"width":9,"chr":"0","bonus":0.036,"secondary":false,"pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,2,3,255,2,9,255,3,2,255,3,10,255,4,2,255,4,10,255,5,3,255,5,9,255,6,4,255,6,5,255,6,6,255,6,7,255,6,8,255]},{"width":6,"chr":"1","bonus":0.03,"secondary":false,"pixels":[1,3,255,1,10,255,2,3,255,2,10,255,3,2,255,3,3,255,3,4,255,3,5,255,3,6,255,3,7,255,3,8,255,3,9,255,3,10,255,4,10,255,5,10,255]},{"width":9,"chr":"2","bonus":0.036,"secondary":false,"pixels":[1,10,255,2,3,255,2,4,255,2,9,255,2,10,255,3,2,255,3,8,255,3,10,255,4,2,255,4,7,255,4,10,255,5,2,255,5,6,255,5,10,255,6,3,255,6,4,255,6,5,255,6,10,255]},{"width":9,"chr":"3","bonus":0.04,"secondary":false,"pixels":[1,3,255,1,4,255,1,8,255,1,9,255,2,2,255,2,10,255,3,2,255,3,6,255,3,10,255,4,2,255,4,6,255,4,10,255,5,2,255,5,5,255,5,6,255,5,9,255,6,3,255,6,4,255,6,7,255,6,8,255]},{"width":8,"chr":"4","bonus":0.044,"secondary":false,"pixels":[1,8,255,2,6,255,2,7,255,2,8,255,3,4,255,3,5,255,3,8,255,3,10,255,4,3,255,4,8,255,4,10,255,5,2,255,5,3,255,5,4,255,5,5,255,5,6,255,5,7,255,5,8,255,5,9,255,5,10,255,6,8,255,6,10,255]},{"width":9,"chr":"5","bonus":0.04,"secondary":false,"pixels":[1,9,255,2,2,255,2,3,255,2,4,255,2,5,255,2,6,255,2,10,255,3,2,255,3,5,255,3,10,255,4,2,255,4,5,255,4,10,255,5,2,255,5,5,255,5,9,255,6,2,255,6,6,255,6,7,255,6,8,255]},{"width":9,"chr":"6","bonus":0.038,"secondary":false,"pixels":[1,5,255,1,6,255,1,7,255,1,8,255,2,4,255,2,6,255,2,9,255,3,3,255,3,5,255,3,10,255,4,3,255,4,5,255,4,10,255,5,2,255,5,5,255,5,9,255,6,6,255,6,7,255,6,8,255]},{"width":8,"chr":"7","bonus":0.032,"secondary":false,"pixels":[1,2,255,1,3,255,1,4,255,1,10,255,2,2,255,2,8,255,2,9,255,3,2,255,3,6,255,3,7,255,4,2,255,4,5,255,5,2,255,5,3,255,5,4,255,6,2,255]},{"width":9,"chr":"8","bonus":0.048,"secondary":false,"pixels":[1,3,255,1,4,255,1,7,255,1,8,255,1,9,255,2,2,255,2,5,255,2,6,255,2,10,255,3,2,255,3,6,255,3,10,255,4,2,255,4,6,255,4,10,255,5,2,255,5,5,255,5,6,255,5,10,255,6,3,255,6,4,255,6,7,255,6,8,255,6,9,255]},{"width":9,"chr":"9","bonus":0.036,"secondary":false,"pixels":[1,4,255,1,5,255,2,3,255,2,6,255,2,10,255,3,2,255,3,7,255,3,10,255,4,2,255,4,7,255,4,9,255,5,3,255,5,7,255,5,8,255,6,4,255,6,5,255,6,6,255,6,7,255]},{"width":3,"chr":"\'","bonus":0.006,"secondary":true,"pixels":[0,1,255,0,2,255,1,0,255]},{"width":4,"chr":".","bonus":0.002,"secondary":true,"pixels":[1,10,255]},{"width":3,"chr":",","bonus":0.01,"secondary":true,"pixels":[0,11,255,1,8,255,1,9,255,1,10,255,2,8,255]},{"width":4,"chr":";","bonus":0.012,"secondary":true,"pixels":[0,11,255,1,8,255,1,9,255,1,10,255,2,4,255,2,8,255]},{"width":5,"chr":"-","bonus":0.008,"secondary":false,"pixels":[0,8,255,1,8,255,2,8,255,3,8,255]},{"width":7,"chr":"?","bonus":0.022,"secondary":false,"pixels":[1,3,255,1,4,255,2,3,255,2,8,255,2,9,255,2,11,255,3,3,255,3,7,255,4,4,255,4,5,255,4,6,255]},{"width":9,"chr":"*","bonus":0.02,"secondary":false,"pixels":[2,6,255,2,8,255,3,6,255,3,7,255,4,5,255,4,6,255,4,7,255,5,6,255,5,8,255,6,6,255]},{"width":4,"chr":"(","bonus":0.024,"secondary":false,"pixels":[1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,2,1,255,2,2,255,2,9,255,2,10,255,3,0,255,3,11,255]},{"width":4,"chr":")","bonus":0.024,"secondary":false,"pixels":[0,0,255,0,11,255,1,1,255,1,2,255,1,9,255,1,10,255,2,3,255,2,4,255,2,5,255,2,6,255,2,7,255,2,8,255]},{"width":4,"chr":"!","bonus":0.016,"secondary":false,"pixels":[1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,10,255]},{"width":8,"chr":"~","bonus":0.018,"secondary":false,"pixels":[0,5,255,0,6,255,1,5,255,2,5,255,3,6,255,4,6,255,5,6,255,6,5,255,6,6,255]},{"width":4,"chr":":","bonus":0.004,"secondary":false,"pixels":[1,5,255,1,10,255]},{"width":7,"chr":"/","bonus":0.022,"secondary":false,"pixels":[1,10,255,1,11,255,2,8,255,2,9,255,3,5,255,3,6,255,3,7,255,4,3,255,4,4,255,5,1,255,5,2,255]},{"width":4,"chr":"[","bonus":0.032,"secondary":false,"pixels":[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,2,0,255,2,11,255,3,0,255,3,11,255]},{"width":4,"chr":"]","bonus":0.032,"secondary":false,"pixels":[0,0,255,0,11,255,1,0,255,1,11,255,2,0,255,2,1,255,2,2,255,2,3,255,2,4,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,2,10,255,2,11,255]}],"width":16,"spacewidth":7,"shadow":false,"height":14,"basey":10}'
);
ImageData.fromBase64(i=> LoreBookReader.bookimg = i, "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");


function LoreBookReader() {
	var me = this;
	this.pos = null;
	this.find = function () {
		var img = a1lib.bindfullrs();
		if (!img) { return null; }
		var locs = a1lib.findsubimg(img, LoreBookReader.bookimg);
		if (locs.length == 0) { return null; }
		me.pos = new Rect(locs[0].x - 192, locs[0].y - 290, 450, 320);
		return me.pos;
	}

	var readline = function (buf, x, y) {
		var col = null;
		for (var dx = 0; dx < 40; dx++) {
			var i = (x + dx) * 4 + (y-2) * 4 * buf.width;
			var r=buf.data[i], g=buf.data[i+1], b=buf.data[i+2];
			if (r < 169 || r > 248 || g < 117 || g > 224 || b < 62 || b > 177) {
				col = [r, g, b];
				break;
			}
		}
		if (!col) { return ""; }
		var line = OCR.readLine(buf, LoreBookReader.pixelfont, col, x, y, true, false);
		return line ? line.text : "";
	}

	this.read = function () {
		if (!this.pos) { return; }
		var img = a1lib.bindregion(me.pos.x, me.pos.y, me.pos.width, me.pos.height);
		if (!img) { return null; }
		var buf = img.toData(); 
		if (a1lib.simplecompare(buf, LoreBookReader.bookimg, 192, 290) === false) { return null; }

		var r = {};
		//cant read the title font yet
		r.title = "";// alt1.bindReadColorString(img.handle, "heavy", a1lib.mixcolor(255, 211, 63), 220, 18);
		r.titlehash = buf.getPixelHash(new Rect(110, 8, 200, 8));

		var p1 = OCR.readLine(buf, LoreBookReader.pixelfont, [0, 0, 0], 12, 309, true, false);
		var p2 = OCR.readLine(buf, LoreBookReader.pixelfont, [0, 0, 0], 423, 309, false, true);
		r.pageleft = p1 ? p1.text : "?";
		r.pageright = p2 ? p2.text : "?";

		r.lines = [];
		for (var a = 0; a < 15; a++) { r.lines.push(readline(buf, 0, 58 + 16 * a)); }
		for (var a = 0; a < 15; a++) { r.lines.push(readline(buf, 238, 58 + 16 * a)); }

		return r;
	}
}